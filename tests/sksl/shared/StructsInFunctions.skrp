    1. store_src_rg                   coords = src.rg
    2. init_lane_masks                CondMask = LoopMask = RetMask = true
    3. splat_2_constants              s.x, s.y = 0
    4. copy_constant                  $0 = 0x3F800000 (1.0)
    5. copy_slot_unmasked             s.x = $0
    6. copy_constant                  $0 = 0x00000002 (2.802597e-45)
    7. copy_slot_unmasked             s.y = $0
    8. copy_2_slots_unmasked          $0..1 = s.x, s.y
    9. label                          label 0
   10. copy_2_slots_unmasked          s.x₁, s.y₁ = $0..1
   11. copy_2_slots_unmasked          s.x₂, s.y₂ = $0..1
   12. copy_2_slots_unmasked          $0..1 = s.x₂, s.y₂
   13. cast_to_float_from_int         $1 = IntToFloat($1)
   14. add_float                      $0 += $1
   15. label                          label 0x00000001
   16. copy_slot_unmasked             x = $0
   17. copy_2_slots_unmasked          s.x₃, s.y₃ = s.x₁, s.y₁
   18. copy_slot_unmasked             $0 = s.x₃
   19. copy_constant                  $1 = 0x3F800000 (1.0)
   20. add_float                      $0 += $1
   21. copy_slot_unmasked             s.x₃ = $0
   22. copy_slot_unmasked             $0 = s.y₃
   23. copy_constant                  $1 = 0x00000001 (1.401298e-45)
   24. add_int                        $0 += $1
   25. copy_slot_unmasked             s.y₃ = $0
   26. copy_2_slots_unmasked          $0..1 = s.x₃, s.y₃
   27. copy_2_slots_unmasked          s.x₁, s.y₁ = $0..1
   28. label                          label 0x00000002
   29. copy_constant                  $0 = 0x40000000 (2.0)
   30. copy_constant                  $1 = 0x00000003 (4.203895e-45)
   31. label                          label 0x00000003
   32. copy_2_slots_unmasked          expected.x, expected.y = $0..1
   33. splat_4_constants              n1.a.x, n1.a.y, n1.b.x, n1.b.y = 0
   34. splat_4_constants              n2.a.x, n2.a.y, n2.b.x, n2.b.y = 0
   35. splat_4_constants              n3.a.x, n3.a.y, n3.b.x, n3.b.y = 0
   36. splat_2_constants              s.x, s.y = 0
   37. copy_constant                  $0 = 0x3F800000 (1.0)
   38. copy_slot_unmasked             s.x = $0
   39. copy_constant                  $0 = 0x00000002 (2.802597e-45)
   40. copy_slot_unmasked             s.y = $0
   41. copy_2_slots_unmasked          $0..1 = s.x, s.y
   42. label                          label 0x00000004
   43. copy_2_slots_unmasked          n1.a.x, n1.a.y = $0..1
   44. copy_2_slots_unmasked          n1.b.x, n1.b.y = $0..1
   45. copy_4_slots_unmasked          $0..3 = n1.a.x, n1.a.y, n1.b.x, n1.b.y
   46. copy_4_slots_unmasked          n2.a.x, n2.a.y, n2.b.x, n2.b.y = $0..3
   47. copy_4_slots_unmasked          n3.a.x, n3.a.y, n3.b.x, n3.b.y = $0..3
   48. copy_2_slots_unmasked          s.x₃, s.y₃ = n3.b.x, n3.b.y
   49. copy_slot_unmasked             $0 = s.x₃
   50. copy_constant                  $1 = 0x3F800000 (1.0)
   51. add_float                      $0 += $1
   52. copy_slot_unmasked             s.x₃ = $0
   53. copy_slot_unmasked             $0 = s.y₃
   54. copy_constant                  $1 = 0x00000001 (1.401298e-45)
   55. add_int                        $0 += $1
   56. copy_slot_unmasked             s.y₃ = $0
   57. copy_2_slots_unmasked          $0..1 = s.x₃, s.y₃
   58. copy_2_slots_unmasked          n3.b.x, n3.b.y = $0..1
   59. label                          label 0x00000005
   60. copy_constant                  c1.f4(0) = 0x3F800000 (1.0)
   61. copy_constant                  c1.f4(1) = 0x40000000 (2.0)
   62. copy_constant                  c1.f4(2) = 0x40400000 (3.0)
   63. copy_constant                  c1.f4(3) = 0x40800000 (4.0)
   64. copy_constant                  c1.i3(0) = 0x00000005 (7.006492e-45)
   65. copy_constant                  c1.i3(1) = 0x00000006 (8.407791e-45)
   66. copy_constant                  c1.i3(2) = 0x00000007 (9.809089e-45)
   67. copy_uniform                   c2.f4(0) = colorGreen(1)
   68. copy_constant                  c2.f4(1) = 0x40000000 (2.0)
   69. copy_constant                  c2.f4(2) = 0x40400000 (3.0)
   70. copy_constant                  c2.f4(3) = 0x40800000 (4.0)
   71. copy_constant                  c2.i3(0) = 0x00000005 (7.006492e-45)
   72. copy_constant                  c2.i3(1) = 0x00000006 (8.407791e-45)
   73. copy_constant                  c2.i3(2) = 0x00000007 (9.809089e-45)
   74. copy_uniform                   c3.f4(0) = colorGreen(0)
   75. copy_constant                  c3.f4(1) = 0x40000000 (2.0)
   76. copy_constant                  c3.f4(2) = 0x40400000 (3.0)
   77. copy_constant                  c3.f4(3) = 0x40800000 (4.0)
   78. copy_constant                  c3.i3(0) = 0x00000005 (7.006492e-45)
   79. copy_constant                  c3.i3(1) = 0x00000006 (8.407791e-45)
   80. copy_constant                  c3.i3(2) = 0x00000007 (9.809089e-45)
   81. store_condition_mask           $12 = CondMask
   82. copy_slot_unmasked             $13 = x
   83. copy_constant                  $14 = 0x40400000 (3.0)
   84. cmpeq_float                    $13 = equal($13, $14)
   85. copy_slot_unmasked             $14 = s.x₁
   86. copy_constant                  $15 = 0x40000000 (2.0)
   87. cmpeq_float                    $14 = equal($14, $15)
   88. bitwise_and_int                $13 &= $14
   89. copy_slot_unmasked             $14 = s.y₁
   90. copy_constant                  $15 = 0x00000003 (4.203895e-45)
   91. cmpeq_int                      $14 = equal($14, $15)
   92. bitwise_and_int                $13 &= $14
   93. copy_slot_unmasked             $14 = s.x₁
   94. copy_slot_unmasked             $15 = expected.x
   95. cmpeq_float                    $14 = equal($14, $15)
   96. copy_slot_unmasked             $15 = s.y₁
   97. copy_slot_unmasked             $16 = expected.y
   98. cmpeq_int                      $15 = equal($15, $16)
   99. bitwise_and_int                $14 &= $15
  100. bitwise_and_int                $13 &= $14
  101. copy_slot_unmasked             $14 = s.x₁
  102. copy_constant                  $17 = 0x40000000 (2.0)
  103. copy_constant                  $18 = 0x00000003 (4.203895e-45)
  104. copy_slot_unmasked             $15 = $17
  105. cmpeq_float                    $14 = equal($14, $15)
  106. copy_slot_unmasked             $15 = s.y₁
  107. copy_slot_unmasked             $16 = $18
  108. cmpeq_int                      $15 = equal($15, $16)
  109. bitwise_and_int                $14 &= $15
  110. bitwise_and_int                $13 &= $14
  111. copy_constant                  $0 = 0
  112. merge_condition_mask           CondMask = $12 & $13
  113. branch_if_no_lanes_active      branch_if_no_lanes_active +17 (label 6 at #130)
  114. copy_slot_unmasked             $1 = s.x₁
  115. branch_if_no_lanes_active      branch_if_no_lanes_active +7 (label 7 at #122)
  116. splat_2_constants              s.x, s.y = 0
  117. copy_constant                  $17 = 0x3F800000 (1.0)
  118. copy_slot_masked               s.x = Mask($17)
  119. copy_constant                  $17 = 0x00000002 (2.802597e-45)
  120. copy_slot_masked               s.y = Mask($17)
  121. copy_2_slots_unmasked          $17..18 = s.x, s.y
  122. label                          label 0x00000007
  123. copy_slot_unmasked             $2 = $17
  124. cmpne_float                    $1 = notEqual($1, $2)
  125. copy_slot_unmasked             $2 = s.y₁
  126. copy_slot_unmasked             $3 = $18
  127. cmpne_int                      $2 = notEqual($2, $3)
  128. bitwise_or_int                 $1 |= $2
  129. copy_slot_masked               $0 = Mask($1)
  130. label                          label 0x00000006
  131. load_condition_mask            CondMask = $12
  132. copy_slot_unmasked             $1 = n1.a.x
  133. copy_slot_unmasked             $2 = n2.a.x
  134. cmpeq_float                    $1 = equal($1, $2)
  135. copy_slot_unmasked             $2 = n1.a.y
  136. copy_slot_unmasked             $3 = n2.a.y
  137. cmpeq_int                      $2 = equal($2, $3)
  138. bitwise_and_int                $1 &= $2
  139. copy_slot_unmasked             $2 = n1.b.x
  140. copy_slot_unmasked             $3 = n2.b.x
  141. cmpeq_float                    $2 = equal($2, $3)
  142. copy_slot_unmasked             $3 = n1.b.y
  143. copy_slot_unmasked             $4 = n2.b.y
  144. cmpeq_int                      $3 = equal($3, $4)
  145. bitwise_and_int                $2 &= $3
  146. bitwise_and_int                $1 &= $2
  147. bitwise_and_int                $0 &= $1
  148. copy_slot_unmasked             $1 = n1.a.x
  149. copy_slot_unmasked             $2 = n3.a.x
  150. cmpne_float                    $1 = notEqual($1, $2)
  151. copy_slot_unmasked             $2 = n1.a.y
  152. copy_slot_unmasked             $3 = n3.a.y
  153. cmpne_int                      $2 = notEqual($2, $3)
  154. bitwise_or_int                 $1 |= $2
  155. copy_slot_unmasked             $2 = n1.b.x
  156. copy_slot_unmasked             $3 = n3.b.x
  157. cmpne_float                    $2 = notEqual($2, $3)
  158. copy_slot_unmasked             $3 = n1.b.y
  159. copy_slot_unmasked             $4 = n3.b.y
  160. cmpne_int                      $3 = notEqual($3, $4)
  161. bitwise_or_int                 $2 |= $3
  162. bitwise_or_int                 $1 |= $2
  163. bitwise_and_int                $0 &= $1
  164. copy_slot_unmasked             $1 = n3.a.x
  165. copy_constant                  $12 = 0x3F800000 (1.0)
  166. copy_constant                  $13 = 0x00000002 (2.802597e-45)
  167. copy_constant                  $14 = 0x40000000 (2.0)
  168. copy_constant                  $15 = 0x00000003 (4.203895e-45)
  169. copy_slot_unmasked             $2 = $12
  170. cmpeq_float                    $1 = equal($1, $2)
  171. copy_slot_unmasked             $2 = n3.a.y
  172. copy_slot_unmasked             $3 = $13
  173. cmpeq_int                      $2 = equal($2, $3)
  174. bitwise_and_int                $1 &= $2
  175. copy_slot_unmasked             $2 = n3.b.x
  176. copy_slot_unmasked             $3 = $14
  177. cmpeq_float                    $2 = equal($2, $3)
  178. copy_slot_unmasked             $3 = n3.b.y
  179. copy_slot_unmasked             $4 = $15
  180. cmpeq_int                      $3 = equal($3, $4)
  181. bitwise_and_int                $2 &= $3
  182. bitwise_and_int                $1 &= $2
  183. bitwise_and_int                $0 &= $1
  184. copy_4_slots_unmasked          $1..4 = c1.f4
  185. copy_4_slots_unmasked          $5..8 = c2.f4
  186. cmpeq_4_floats                 $1..4 = equal($1..4, $5..8)
  187. bitwise_and_2_ints             $1..2 &= $3..4
  188. bitwise_and_int                $1 &= $2
  189. copy_3_slots_unmasked          $2..4 = c1.i3
  190. copy_3_slots_unmasked          $5..7 = c2.i3
  191. cmpeq_3_ints                   $2..4 = equal($2..4, $5..7)
  192. bitwise_and_int                $3 &= $4
  193. bitwise_and_int                $2 &= $3
  194. bitwise_and_int                $1 &= $2
  195. bitwise_and_int                $0 &= $1
  196. copy_4_slots_unmasked          $1..4 = c2.f4
  197. copy_4_slots_unmasked          $5..8 = c3.f4
  198. cmpne_4_floats                 $1..4 = notEqual($1..4, $5..8)
  199. bitwise_or_2_ints              $1..2 |= $3..4
  200. bitwise_or_int                 $1 |= $2
  201. copy_3_slots_unmasked          $2..4 = c2.i3
  202. copy_3_slots_unmasked          $5..7 = c3.i3
  203. cmpne_3_ints                   $2..4 = notEqual($2..4, $5..7)
  204. bitwise_or_int                 $3 |= $4
  205. bitwise_or_int                 $2 |= $3
  206. bitwise_or_int                 $1 |= $2
  207. bitwise_and_int                $0 &= $1
  208. copy_slot_unmasked             valid = $0
  209. swizzle_4                      $0..3 = ($0..3).xxxx
  210. copy_4_uniforms                $4..7 = colorRed
  211. copy_4_uniforms                $8..11 = colorGreen
  212. mix_4_ints                     $0..3 = mix($4..7, $8..11, $0..3)
  213. load_src                       src.rgba = $0..3
