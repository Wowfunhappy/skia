    1. store_src_rg                   coords = src.rg
    2. init_lane_masks                CondMask = LoopMask = RetMask = true
    3. copy_uniform                   $0 = colorGreen(0)
    4. copy_uniform                   $1 = colorGreen(2)
    5. div_float                      $0 /= $1
    6. copy_slot_unmasked             NAN1 = $0
    7. copy_uniform                   $0 = colorGreen(2)
    8. copy_uniform                   $1 = colorGreen(0)
    9. div_float                      $0 /= $1
   10. copy_slot_unmasked             NAN2 = $0
   11. copy_uniform                   $0 = colorGreen(0)
   12. copy_uniform                   $1 = colorGreen(2)
   13. mul_float                      $0 *= $1
   14. copy_slot_unmasked             ZP = $0
   15. copy_constant                  $0 = 0
   16. copy_uniform                   $1 = colorGreen(0)
   17. sub_float                      $0 -= $1
   18. copy_uniform                   $1 = colorGreen(2)
   19. mul_float                      $0 *= $1
   20. copy_slot_unmasked             ZM = $0
   21. copy_uniform                   $0 = colorGreen(1)
   22. copy_constant                  $1 = 0x42280000 (42.0)
   23. mul_float                      $0 *= $1
   24. copy_slot_unmasked             F42 = $0
   25. copy_uniform                   $0 = colorGreen(1)
   26. copy_constant                  $1 = 0x422C0000 (43.0)
   27. mul_float                      $0 *= $1
   28. copy_slot_unmasked             F43 = $0
   29. copy_uniform                   $0 = colorGreen(1)
   30. copy_constant                  $1 = 0x42300000 (44.0)
   31. mul_float                      $0 *= $1
   32. copy_slot_unmasked             F44 = $0
   33. copy_uniform                   $0 = colorGreen(1)
   34. copy_constant                  $1 = 0x42340000 (45.0)
   35. mul_float                      $0 *= $1
   36. copy_slot_unmasked             F45 = $0
   37. copy_uniform                   $0 = colorGreen(1)
   38. copy_constant                  $1 = 0x42380000 (46.0)
   39. mul_float                      $0 *= $1
   40. copy_slot_unmasked             F46 = $0
   41. copy_uniform                   $0 = colorGreen(1)
   42. copy_constant                  $1 = 0x423C0000 (47.0)
   43. mul_float                      $0 *= $1
   44. copy_slot_unmasked             F47 = $0
   45. copy_constant                  EQ = 0xFFFFFFFF
   46. copy_constant                  NE = 0
   47. copy_uniform                   $0 = colorGreen(0)
   48. copy_constant                  $1 = 0x3F800000 (1.0)
   49. add_float                      $0 += $1
   50. copy_slot_unmasked             _0_one = $0
   51. splat_4_constants              _1_a[0].f1, _1_a[0].v2, _1_a[1].f1 = 0
   52. splat_2_constants              _1_a[1].v2 = 0
   53. copy_slot_unmasked             $0 = F42
   54. copy_slot_unmasked             _1_a[0].f1 = $0
   55. copy_slot_unmasked             $0 = ZM
   56. copy_slot_unmasked             $1 = ZP
   57. copy_2_slots_unmasked          _1_a[0].v2 = $0..1
   58. copy_slot_unmasked             $0 = F43
   59. copy_slot_unmasked             _1_a[1].f1 = $0
   60. copy_2_slots_unmasked          $0..1 = F44, F45
   61. copy_2_slots_unmasked          _1_a[1].v2 = $0..1
   62. splat_4_constants              _2_b[0].f1, _2_b[0].v2, _2_b[1].f1 = 0
   63. splat_2_constants              _2_b[1].v2 = 0
   64. copy_slot_unmasked             $0 = F42
   65. copy_slot_unmasked             $1 = _0_one
   66. mul_float                      $0 *= $1
   67. copy_slot_unmasked             _2_b[0].f1 = $0
   68. copy_slot_unmasked             $0 = ZM
   69. copy_slot_unmasked             $1 = _0_one
   70. mul_float                      $0 *= $1
   71. copy_slot_unmasked             $1 = ZP
   72. copy_slot_unmasked             $2 = _0_one
   73. mul_float                      $1 *= $2
   74. copy_2_slots_unmasked          _2_b[0].v2 = $0..1
   75. copy_slot_unmasked             $0 = F43
   76. copy_slot_unmasked             $1 = _0_one
   77. mul_float                      $0 *= $1
   78. copy_slot_unmasked             _2_b[1].f1 = $0
   79. copy_slot_unmasked             $0 = F44
   80. copy_slot_unmasked             $1 = _0_one
   81. mul_float                      $0 *= $1
   82. copy_slot_unmasked             $1 = F45
   83. copy_slot_unmasked             $2 = _0_one
   84. mul_float                      $1 *= $2
   85. copy_2_slots_unmasked          _2_b[1].v2 = $0..1
   86. store_condition_mask           $12 = CondMask
   87. store_condition_mask           $21 = CondMask
   88. store_condition_mask           $30 = CondMask
   89. store_condition_mask           $39 = CondMask
   90. store_condition_mask           $48 = CondMask
   91. store_condition_mask           $57 = CondMask
   92. store_condition_mask           $66 = CondMask
   93. store_condition_mask           $74 = CondMask
   94. copy_slot_unmasked             $75 = EQ
   95. copy_slot_unmasked             $67 = _1_a[0].f1
   96. copy_slot_unmasked             $68 = _2_b[0].f1
   97. cmpne_float                    $67 = notEqual($67, $68)
   98. copy_2_slots_unmasked          $68..69 = _1_a[0].v2
   99. copy_2_slots_unmasked          $70..71 = _2_b[0].v2
  100. cmpne_2_floats                 $68..69 = notEqual($68..69, $70..71)
  101. bitwise_or_int                 $68 |= $69
  102. bitwise_or_int                 $67 |= $68
  103. copy_slot_unmasked             $68 = _1_a[1].f1
  104. copy_slot_unmasked             $69 = _2_b[1].f1
  105. cmpne_float                    $68 = notEqual($68, $69)
  106. copy_2_slots_unmasked          $69..70 = _1_a[1].v2
  107. copy_2_slots_unmasked          $71..72 = _2_b[1].v2
  108. cmpne_2_floats                 $69..70 = notEqual($69..70, $71..72)
  109. bitwise_or_int                 $69 |= $70
  110. bitwise_or_int                 $68 |= $69
  111. bitwise_or_int                 $67 |= $68
  112. merge_condition_mask           CondMask = $74 & $75
  113. branch_if_no_lanes_active      branch_if_no_lanes_active +19 (label 8 at #132)
  114. copy_slot_unmasked             $68 = _1_a[0].f1
  115. copy_slot_unmasked             $69 = _2_b[0].f1
  116. cmpeq_float                    $68 = equal($68, $69)
  117. copy_2_slots_unmasked          $69..70 = _1_a[0].v2
  118. copy_2_slots_unmasked          $71..72 = _2_b[0].v2
  119. cmpeq_2_floats                 $69..70 = equal($69..70, $71..72)
  120. bitwise_and_int                $69 &= $70
  121. bitwise_and_int                $68 &= $69
  122. copy_slot_unmasked             $69 = _1_a[1].f1
  123. copy_slot_unmasked             $70 = _2_b[1].f1
  124. cmpeq_float                    $69 = equal($69, $70)
  125. copy_2_slots_unmasked          $70..71 = _1_a[1].v2
  126. copy_2_slots_unmasked          $72..73 = _2_b[1].v2
  127. cmpeq_2_floats                 $70..71 = equal($70..71, $72..73)
  128. bitwise_and_int                $70 &= $71
  129. bitwise_and_int                $69 &= $70
  130. bitwise_and_int                $68 &= $69
  131. copy_slot_masked               $67 = Mask($68)
  132. label                          label 0x00000008
  133. load_condition_mask            CondMask = $74
  134. copy_constant                  $58 = 0
  135. merge_condition_mask           CondMask = $66 & $67
  136. branch_if_no_lanes_active      branch_if_no_lanes_active +88 (label 7 at #224)
  137. copy_slot_unmasked             eq = NE
  138. copy_slot_unmasked             f1 = F42
  139. copy_slot_unmasked             v2 = ZM
  140. copy_slot_unmasked             f3 = ZP
  141. copy_3_slots_unmasked          f4, f5, f6 = F43, F44, F45
  142. copy_uniform                   $59 = colorGreen(0)
  143. copy_constant                  $60 = 0x3F800000 (1.0)
  144. add_float                      $59 += $60
  145. copy_slot_unmasked             one = $59
  146. splat_4_constants              a[0].f1, a[0].v2, a[1].f1 = 0
  147. splat_2_constants              a[1].v2 = 0
  148. copy_slot_unmasked             $59 = f1
  149. copy_slot_masked               a[0].f1 = Mask($59)
  150. copy_2_slots_unmasked          $59..60 = v2, f3
  151. copy_2_slots_masked            a[0].v2 = Mask($59..60)
  152. copy_slot_unmasked             $59 = f4
  153. copy_slot_masked               a[1].f1 = Mask($59)
  154. copy_2_slots_unmasked          $59..60 = f5, f6
  155. copy_2_slots_masked            a[1].v2 = Mask($59..60)
  156. splat_4_constants              b[0].f1, b[0].v2, b[1].f1 = 0
  157. splat_2_constants              b[1].v2 = 0
  158. copy_slot_unmasked             $59 = f1
  159. copy_slot_unmasked             $60 = one
  160. mul_float                      $59 *= $60
  161. copy_slot_masked               b[0].f1 = Mask($59)
  162. copy_slot_unmasked             $59 = v2
  163. copy_slot_unmasked             $60 = one
  164. mul_float                      $59 *= $60
  165. copy_slot_unmasked             $60 = f3
  166. copy_slot_unmasked             $61 = one
  167. mul_float                      $60 *= $61
  168. copy_2_slots_masked            b[0].v2 = Mask($59..60)
  169. copy_slot_unmasked             $59 = f4
  170. copy_slot_unmasked             $60 = one
  171. mul_float                      $59 *= $60
  172. copy_slot_masked               b[1].f1 = Mask($59)
  173. copy_slot_unmasked             $59 = f5
  174. copy_slot_unmasked             $60 = one
  175. mul_float                      $59 *= $60
  176. copy_slot_unmasked             $60 = f6
  177. copy_slot_unmasked             $61 = one
  178. mul_float                      $60 *= $61
  179. copy_2_slots_masked            b[1].v2 = Mask($59..60)
  180. store_condition_mask           $74 = CondMask
  181. copy_slot_unmasked             $75 = eq
  182. copy_slot_unmasked             $59 = a[0].f1
  183. copy_slot_unmasked             $60 = b[0].f1
  184. cmpne_float                    $59 = notEqual($59, $60)
  185. copy_2_slots_unmasked          $60..61 = a[0].v2
  186. copy_2_slots_unmasked          $62..63 = b[0].v2
  187. cmpne_2_floats                 $60..61 = notEqual($60..61, $62..63)
  188. bitwise_or_int                 $60 |= $61
  189. bitwise_or_int                 $59 |= $60
  190. copy_slot_unmasked             $60 = a[1].f1
  191. copy_slot_unmasked             $61 = b[1].f1
  192. cmpne_float                    $60 = notEqual($60, $61)
  193. copy_2_slots_unmasked          $61..62 = a[1].v2
  194. copy_2_slots_unmasked          $63..64 = b[1].v2
  195. cmpne_2_floats                 $61..62 = notEqual($61..62, $63..64)
  196. bitwise_or_int                 $61 |= $62
  197. bitwise_or_int                 $60 |= $61
  198. bitwise_or_int                 $59 |= $60
  199. merge_condition_mask           CondMask = $74 & $75
  200. branch_if_no_lanes_active      branch_if_no_lanes_active +19 (label 10 at #219)
  201. copy_slot_unmasked             $60 = a[0].f1
  202. copy_slot_unmasked             $61 = b[0].f1
  203. cmpeq_float                    $60 = equal($60, $61)
  204. copy_2_slots_unmasked          $61..62 = a[0].v2
  205. copy_2_slots_unmasked          $63..64 = b[0].v2
  206. cmpeq_2_floats                 $61..62 = equal($61..62, $63..64)
  207. bitwise_and_int                $61 &= $62
  208. bitwise_and_int                $60 &= $61
  209. copy_slot_unmasked             $61 = a[1].f1
  210. copy_slot_unmasked             $62 = b[1].f1
  211. cmpeq_float                    $61 = equal($61, $62)
  212. copy_2_slots_unmasked          $62..63 = a[1].v2
  213. copy_2_slots_unmasked          $64..65 = b[1].v2
  214. cmpeq_2_floats                 $62..63 = equal($62..63, $64..65)
  215. bitwise_and_int                $62 &= $63
  216. bitwise_and_int                $61 &= $62
  217. bitwise_and_int                $60 &= $61
  218. copy_slot_masked               $59 = Mask($60)
  219. label                          label 0x0000000A
  220. load_condition_mask            CondMask = $74
  221. label                          label 0x00000009
  222. bitwise_not_int                $59 = ~$59
  223. copy_slot_masked               $58 = Mask($59)
  224. label                          label 0x00000007
  225. load_condition_mask            CondMask = $66
  226. copy_constant                  $49 = 0
  227. merge_condition_mask           CondMask = $57 & $58
  228. branch_if_no_lanes_active      branch_if_no_lanes_active +86 (label 6 at #314)
  229. copy_slot_unmasked             eq = NE
  230. copy_slot_unmasked             f1 = F42
  231. copy_2_slots_unmasked          v2, f3 = NAN1, NAN2
  232. copy_3_slots_unmasked          f4, f5, f6 = F43, F44, F45
  233. copy_uniform                   $50 = colorGreen(0)
  234. copy_constant                  $51 = 0x3F800000 (1.0)
  235. add_float                      $50 += $51
  236. copy_slot_unmasked             one = $50
  237. splat_4_constants              a[0].f1, a[0].v2, a[1].f1 = 0
  238. splat_2_constants              a[1].v2 = 0
  239. copy_slot_unmasked             $50 = f1
  240. copy_slot_masked               a[0].f1 = Mask($50)
  241. copy_2_slots_unmasked          $50..51 = v2, f3
  242. copy_2_slots_masked            a[0].v2 = Mask($50..51)
  243. copy_slot_unmasked             $50 = f4
  244. copy_slot_masked               a[1].f1 = Mask($50)
  245. copy_2_slots_unmasked          $50..51 = f5, f6
  246. copy_2_slots_masked            a[1].v2 = Mask($50..51)
  247. splat_4_constants              b[0].f1, b[0].v2, b[1].f1 = 0
  248. splat_2_constants              b[1].v2 = 0
  249. copy_slot_unmasked             $50 = f1
  250. copy_slot_unmasked             $51 = one
  251. mul_float                      $50 *= $51
  252. copy_slot_masked               b[0].f1 = Mask($50)
  253. copy_slot_unmasked             $50 = v2
  254. copy_slot_unmasked             $51 = one
  255. mul_float                      $50 *= $51
  256. copy_slot_unmasked             $51 = f3
  257. copy_slot_unmasked             $52 = one
  258. mul_float                      $51 *= $52
  259. copy_2_slots_masked            b[0].v2 = Mask($50..51)
  260. copy_slot_unmasked             $50 = f4
  261. copy_slot_unmasked             $51 = one
  262. mul_float                      $50 *= $51
  263. copy_slot_masked               b[1].f1 = Mask($50)
  264. copy_slot_unmasked             $50 = f5
  265. copy_slot_unmasked             $51 = one
  266. mul_float                      $50 *= $51
  267. copy_slot_unmasked             $51 = f6
  268. copy_slot_unmasked             $52 = one
  269. mul_float                      $51 *= $52
  270. copy_2_slots_masked            b[1].v2 = Mask($50..51)
  271. store_condition_mask           $66 = CondMask
  272. copy_slot_unmasked             $67 = eq
  273. copy_slot_unmasked             $50 = a[0].f1
  274. copy_slot_unmasked             $51 = b[0].f1
  275. cmpne_float                    $50 = notEqual($50, $51)
  276. copy_2_slots_unmasked          $51..52 = a[0].v2
  277. copy_2_slots_unmasked          $53..54 = b[0].v2
  278. cmpne_2_floats                 $51..52 = notEqual($51..52, $53..54)
  279. bitwise_or_int                 $51 |= $52
  280. bitwise_or_int                 $50 |= $51
  281. copy_slot_unmasked             $51 = a[1].f1
  282. copy_slot_unmasked             $52 = b[1].f1
  283. cmpne_float                    $51 = notEqual($51, $52)
  284. copy_2_slots_unmasked          $52..53 = a[1].v2
  285. copy_2_slots_unmasked          $54..55 = b[1].v2
  286. cmpne_2_floats                 $52..53 = notEqual($52..53, $54..55)
  287. bitwise_or_int                 $52 |= $53
  288. bitwise_or_int                 $51 |= $52
  289. bitwise_or_int                 $50 |= $51
  290. merge_condition_mask           CondMask = $66 & $67
  291. branch_if_no_lanes_active      branch_if_no_lanes_active +19 (label 12 at #310)
  292. copy_slot_unmasked             $51 = a[0].f1
  293. copy_slot_unmasked             $52 = b[0].f1
  294. cmpeq_float                    $51 = equal($51, $52)
  295. copy_2_slots_unmasked          $52..53 = a[0].v2
  296. copy_2_slots_unmasked          $54..55 = b[0].v2
  297. cmpeq_2_floats                 $52..53 = equal($52..53, $54..55)
  298. bitwise_and_int                $52 &= $53
  299. bitwise_and_int                $51 &= $52
  300. copy_slot_unmasked             $52 = a[1].f1
  301. copy_slot_unmasked             $53 = b[1].f1
  302. cmpeq_float                    $52 = equal($52, $53)
  303. copy_2_slots_unmasked          $53..54 = a[1].v2
  304. copy_2_slots_unmasked          $55..56 = b[1].v2
  305. cmpeq_2_floats                 $53..54 = equal($53..54, $55..56)
  306. bitwise_and_int                $53 &= $54
  307. bitwise_and_int                $52 &= $53
  308. bitwise_and_int                $51 &= $52
  309. copy_slot_masked               $50 = Mask($51)
  310. label                          label 0x0000000C
  311. load_condition_mask            CondMask = $66
  312. label                          label 0x0000000B
  313. copy_slot_masked               $49 = Mask($50)
  314. label                          label 0x00000006
  315. load_condition_mask            CondMask = $57
  316. copy_constant                  $40 = 0
  317. merge_condition_mask           CondMask = $48 & $49
  318. branch_if_no_lanes_active      branch_if_no_lanes_active +87 (label 5 at #405)
  319. copy_slot_unmasked             eq = EQ
  320. copy_slot_unmasked             f1 = F42
  321. copy_2_slots_unmasked          v2, f3 = NAN1, NAN2
  322. copy_3_slots_unmasked          f4, f5, f6 = F43, F44, F45
  323. copy_uniform                   $41 = colorGreen(0)
  324. copy_constant                  $42 = 0x3F800000 (1.0)
  325. add_float                      $41 += $42
  326. copy_slot_unmasked             one = $41
  327. splat_4_constants              a[0].f1, a[0].v2, a[1].f1 = 0
  328. splat_2_constants              a[1].v2 = 0
  329. copy_slot_unmasked             $41 = f1
  330. copy_slot_masked               a[0].f1 = Mask($41)
  331. copy_2_slots_unmasked          $41..42 = v2, f3
  332. copy_2_slots_masked            a[0].v2 = Mask($41..42)
  333. copy_slot_unmasked             $41 = f4
  334. copy_slot_masked               a[1].f1 = Mask($41)
  335. copy_2_slots_unmasked          $41..42 = f5, f6
  336. copy_2_slots_masked            a[1].v2 = Mask($41..42)
  337. splat_4_constants              b[0].f1, b[0].v2, b[1].f1 = 0
  338. splat_2_constants              b[1].v2 = 0
  339. copy_slot_unmasked             $41 = f1
  340. copy_slot_unmasked             $42 = one
  341. mul_float                      $41 *= $42
  342. copy_slot_masked               b[0].f1 = Mask($41)
  343. copy_slot_unmasked             $41 = v2
  344. copy_slot_unmasked             $42 = one
  345. mul_float                      $41 *= $42
  346. copy_slot_unmasked             $42 = f3
  347. copy_slot_unmasked             $43 = one
  348. mul_float                      $42 *= $43
  349. copy_2_slots_masked            b[0].v2 = Mask($41..42)
  350. copy_slot_unmasked             $41 = f4
  351. copy_slot_unmasked             $42 = one
  352. mul_float                      $41 *= $42
  353. copy_slot_masked               b[1].f1 = Mask($41)
  354. copy_slot_unmasked             $41 = f5
  355. copy_slot_unmasked             $42 = one
  356. mul_float                      $41 *= $42
  357. copy_slot_unmasked             $42 = f6
  358. copy_slot_unmasked             $43 = one
  359. mul_float                      $42 *= $43
  360. copy_2_slots_masked            b[1].v2 = Mask($41..42)
  361. store_condition_mask           $57 = CondMask
  362. copy_slot_unmasked             $58 = eq
  363. copy_slot_unmasked             $41 = a[0].f1
  364. copy_slot_unmasked             $42 = b[0].f1
  365. cmpne_float                    $41 = notEqual($41, $42)
  366. copy_2_slots_unmasked          $42..43 = a[0].v2
  367. copy_2_slots_unmasked          $44..45 = b[0].v2
  368. cmpne_2_floats                 $42..43 = notEqual($42..43, $44..45)
  369. bitwise_or_int                 $42 |= $43
  370. bitwise_or_int                 $41 |= $42
  371. copy_slot_unmasked             $42 = a[1].f1
  372. copy_slot_unmasked             $43 = b[1].f1
  373. cmpne_float                    $42 = notEqual($42, $43)
  374. copy_2_slots_unmasked          $43..44 = a[1].v2
  375. copy_2_slots_unmasked          $45..46 = b[1].v2
  376. cmpne_2_floats                 $43..44 = notEqual($43..44, $45..46)
  377. bitwise_or_int                 $43 |= $44
  378. bitwise_or_int                 $42 |= $43
  379. bitwise_or_int                 $41 |= $42
  380. merge_condition_mask           CondMask = $57 & $58
  381. branch_if_no_lanes_active      branch_if_no_lanes_active +19 (label 14 at #400)
  382. copy_slot_unmasked             $42 = a[0].f1
  383. copy_slot_unmasked             $43 = b[0].f1
  384. cmpeq_float                    $42 = equal($42, $43)
  385. copy_2_slots_unmasked          $43..44 = a[0].v2
  386. copy_2_slots_unmasked          $45..46 = b[0].v2
  387. cmpeq_2_floats                 $43..44 = equal($43..44, $45..46)
  388. bitwise_and_int                $43 &= $44
  389. bitwise_and_int                $42 &= $43
  390. copy_slot_unmasked             $43 = a[1].f1
  391. copy_slot_unmasked             $44 = b[1].f1
  392. cmpeq_float                    $43 = equal($43, $44)
  393. copy_2_slots_unmasked          $44..45 = a[1].v2
  394. copy_2_slots_unmasked          $46..47 = b[1].v2
  395. cmpeq_2_floats                 $44..45 = equal($44..45, $46..47)
  396. bitwise_and_int                $44 &= $45
  397. bitwise_and_int                $43 &= $44
  398. bitwise_and_int                $42 &= $43
  399. copy_slot_masked               $41 = Mask($42)
  400. label                          label 0x0000000E
  401. load_condition_mask            CondMask = $57
  402. label                          label 0x0000000D
  403. bitwise_not_int                $41 = ~$41
  404. copy_slot_masked               $40 = Mask($41)
  405. label                          label 0x00000005
  406. load_condition_mask            CondMask = $48
  407. copy_constant                  $31 = 0
  408. merge_condition_mask           CondMask = $39 & $40
  409. branch_if_no_lanes_active      branch_if_no_lanes_active +83 (label 4 at #492)
  410. copy_slot_unmasked             eq₁ = NE
  411. copy_4_slots_unmasked          f1₁, v2₁, f3₁, f4₁ = F42, F43, F44, F45
  412. copy_2_slots_unmasked          f5₁, f6₁ = F46, F47
  413. copy_uniform                   $32 = colorGreen(0)
  414. copy_constant                  $33 = 0x40000000 (2.0)
  415. add_float                      $32 += $33
  416. copy_slot_unmasked             two = $32
  417. splat_4_constants              a[0].f1₁, a[0].v2₁, a[1].f1₁ = 0
  418. splat_2_constants              a[1].v2₁ = 0
  419. copy_slot_unmasked             $32 = f1₁
  420. copy_slot_masked               a[0].f1₁ = Mask($32)
  421. copy_2_slots_unmasked          $32..33 = v2₁, f3₁
  422. copy_2_slots_masked            a[0].v2₁ = Mask($32..33)
  423. copy_slot_unmasked             $32 = f4₁
  424. copy_slot_masked               a[1].f1₁ = Mask($32)
  425. copy_2_slots_unmasked          $32..33 = f5₁, f6₁
  426. copy_2_slots_masked            a[1].v2₁ = Mask($32..33)
  427. splat_4_constants              b[0].f1₁, b[0].v2₁, b[1].f1₁ = 0
  428. splat_2_constants              b[1].v2₁ = 0
  429. copy_slot_unmasked             $32 = f1₁
  430. copy_slot_unmasked             $33 = two
  431. mul_float                      $32 *= $33
  432. copy_slot_masked               b[0].f1₁ = Mask($32)
  433. copy_slot_unmasked             $32 = v2₁
  434. copy_slot_unmasked             $33 = two
  435. mul_float                      $32 *= $33
  436. copy_slot_unmasked             $33 = f3₁
  437. copy_slot_unmasked             $34 = two
  438. mul_float                      $33 *= $34
  439. copy_2_slots_masked            b[0].v2₁ = Mask($32..33)
  440. copy_slot_unmasked             $32 = f4₁
  441. copy_slot_unmasked             $33 = two
  442. mul_float                      $32 *= $33
  443. copy_slot_masked               b[1].f1₁ = Mask($32)
  444. copy_slot_unmasked             $32 = f5₁
  445. copy_slot_unmasked             $33 = two
  446. mul_float                      $32 *= $33
  447. copy_slot_unmasked             $33 = f6₁
  448. copy_2_slots_masked            b[1].v2₁ = Mask($32..33)
  449. store_condition_mask           $48 = CondMask
  450. copy_slot_unmasked             $49 = eq₁
  451. copy_slot_unmasked             $32 = a[0].f1₁
  452. copy_slot_unmasked             $33 = b[0].f1₁
  453. cmpne_float                    $32 = notEqual($32, $33)
  454. copy_2_slots_unmasked          $33..34 = a[0].v2₁
  455. copy_2_slots_unmasked          $35..36 = b[0].v2₁
  456. cmpne_2_floats                 $33..34 = notEqual($33..34, $35..36)
  457. bitwise_or_int                 $33 |= $34
  458. bitwise_or_int                 $32 |= $33
  459. copy_slot_unmasked             $33 = a[1].f1₁
  460. copy_slot_unmasked             $34 = b[1].f1₁
  461. cmpne_float                    $33 = notEqual($33, $34)
  462. copy_2_slots_unmasked          $34..35 = a[1].v2₁
  463. copy_2_slots_unmasked          $36..37 = b[1].v2₁
  464. cmpne_2_floats                 $34..35 = notEqual($34..35, $36..37)
  465. bitwise_or_int                 $34 |= $35
  466. bitwise_or_int                 $33 |= $34
  467. bitwise_or_int                 $32 |= $33
  468. merge_condition_mask           CondMask = $48 & $49
  469. branch_if_no_lanes_active      branch_if_no_lanes_active +19 (label 16 at #488)
  470. copy_slot_unmasked             $33 = a[0].f1₁
  471. copy_slot_unmasked             $34 = b[0].f1₁
  472. cmpeq_float                    $33 = equal($33, $34)
  473. copy_2_slots_unmasked          $34..35 = a[0].v2₁
  474. copy_2_slots_unmasked          $36..37 = b[0].v2₁
  475. cmpeq_2_floats                 $34..35 = equal($34..35, $36..37)
  476. bitwise_and_int                $34 &= $35
  477. bitwise_and_int                $33 &= $34
  478. copy_slot_unmasked             $34 = a[1].f1₁
  479. copy_slot_unmasked             $35 = b[1].f1₁
  480. cmpeq_float                    $34 = equal($34, $35)
  481. copy_2_slots_unmasked          $35..36 = a[1].v2₁
  482. copy_2_slots_unmasked          $37..38 = b[1].v2₁
  483. cmpeq_2_floats                 $35..36 = equal($35..36, $37..38)
  484. bitwise_and_int                $35 &= $36
  485. bitwise_and_int                $34 &= $35
  486. bitwise_and_int                $33 &= $34
  487. copy_slot_masked               $32 = Mask($33)
  488. label                          label 0x00000010
  489. load_condition_mask            CondMask = $48
  490. label                          label 0x0000000F
  491. copy_slot_masked               $31 = Mask($32)
  492. label                          label 0x00000004
  493. load_condition_mask            CondMask = $39
  494. copy_constant                  $22 = 0
  495. merge_condition_mask           CondMask = $30 & $31
  496. branch_if_no_lanes_active      branch_if_no_lanes_active +85 (label 3 at #581)
  497. copy_slot_unmasked             eq₁ = EQ
  498. copy_4_slots_unmasked          f1₁, v2₁, f3₁, f4₁ = F42, F43, F44, F45
  499. copy_2_slots_unmasked          f5₁, f6₁ = F46, F47
  500. copy_uniform                   $23 = colorGreen(0)
  501. copy_constant                  $24 = 0x40000000 (2.0)
  502. stack_rewind
  503. add_float                      $23 += $24
  504. copy_slot_unmasked             two = $23
  505. splat_4_constants              a[0].f1₁, a[0].v2₁, a[1].f1₁ = 0
  506. splat_2_constants              a[1].v2₁ = 0
  507. copy_slot_unmasked             $23 = f1₁
  508. copy_slot_masked               a[0].f1₁ = Mask($23)
  509. copy_2_slots_unmasked          $23..24 = v2₁, f3₁
  510. copy_2_slots_masked            a[0].v2₁ = Mask($23..24)
  511. copy_slot_unmasked             $23 = f4₁
  512. copy_slot_masked               a[1].f1₁ = Mask($23)
  513. copy_2_slots_unmasked          $23..24 = f5₁, f6₁
  514. copy_2_slots_masked            a[1].v2₁ = Mask($23..24)
  515. splat_4_constants              b[0].f1₁, b[0].v2₁, b[1].f1₁ = 0
  516. splat_2_constants              b[1].v2₁ = 0
  517. copy_slot_unmasked             $23 = f1₁
  518. copy_slot_unmasked             $24 = two
  519. mul_float                      $23 *= $24
  520. copy_slot_masked               b[0].f1₁ = Mask($23)
  521. copy_slot_unmasked             $23 = v2₁
  522. copy_slot_unmasked             $24 = two
  523. mul_float                      $23 *= $24
  524. copy_slot_unmasked             $24 = f3₁
  525. copy_slot_unmasked             $25 = two
  526. mul_float                      $24 *= $25
  527. copy_2_slots_masked            b[0].v2₁ = Mask($23..24)
  528. copy_slot_unmasked             $23 = f4₁
  529. copy_slot_unmasked             $24 = two
  530. mul_float                      $23 *= $24
  531. copy_slot_masked               b[1].f1₁ = Mask($23)
  532. copy_slot_unmasked             $23 = f5₁
  533. copy_slot_unmasked             $24 = two
  534. mul_float                      $23 *= $24
  535. copy_slot_unmasked             $24 = f6₁
  536. copy_2_slots_masked            b[1].v2₁ = Mask($23..24)
  537. store_condition_mask           $39 = CondMask
  538. copy_slot_unmasked             $40 = eq₁
  539. copy_slot_unmasked             $23 = a[0].f1₁
  540. copy_slot_unmasked             $24 = b[0].f1₁
  541. cmpne_float                    $23 = notEqual($23, $24)
  542. copy_2_slots_unmasked          $24..25 = a[0].v2₁
  543. copy_2_slots_unmasked          $26..27 = b[0].v2₁
  544. cmpne_2_floats                 $24..25 = notEqual($24..25, $26..27)
  545. bitwise_or_int                 $24 |= $25
  546. bitwise_or_int                 $23 |= $24
  547. copy_slot_unmasked             $24 = a[1].f1₁
  548. copy_slot_unmasked             $25 = b[1].f1₁
  549. cmpne_float                    $24 = notEqual($24, $25)
  550. copy_2_slots_unmasked          $25..26 = a[1].v2₁
  551. copy_2_slots_unmasked          $27..28 = b[1].v2₁
  552. cmpne_2_floats                 $25..26 = notEqual($25..26, $27..28)
  553. bitwise_or_int                 $25 |= $26
  554. bitwise_or_int                 $24 |= $25
  555. bitwise_or_int                 $23 |= $24
  556. merge_condition_mask           CondMask = $39 & $40
  557. branch_if_no_lanes_active      branch_if_no_lanes_active +19 (label 18 at #576)
  558. copy_slot_unmasked             $24 = a[0].f1₁
  559. copy_slot_unmasked             $25 = b[0].f1₁
  560. cmpeq_float                    $24 = equal($24, $25)
  561. copy_2_slots_unmasked          $25..26 = a[0].v2₁
  562. copy_2_slots_unmasked          $27..28 = b[0].v2₁
  563. cmpeq_2_floats                 $25..26 = equal($25..26, $27..28)
  564. bitwise_and_int                $25 &= $26
  565. bitwise_and_int                $24 &= $25
  566. copy_slot_unmasked             $25 = a[1].f1₁
  567. copy_slot_unmasked             $26 = b[1].f1₁
  568. cmpeq_float                    $25 = equal($25, $26)
  569. copy_2_slots_unmasked          $26..27 = a[1].v2₁
  570. copy_2_slots_unmasked          $28..29 = b[1].v2₁
  571. cmpeq_2_floats                 $26..27 = equal($26..27, $28..29)
  572. bitwise_and_int                $26 &= $27
  573. bitwise_and_int                $25 &= $26
  574. bitwise_and_int                $24 &= $25
  575. copy_slot_masked               $23 = Mask($24)
  576. label                          label 0x00000012
  577. load_condition_mask            CondMask = $39
  578. label                          label 0x00000011
  579. bitwise_not_int                $23 = ~$23
  580. copy_slot_masked               $22 = Mask($23)
  581. label                          label 0x00000003
  582. load_condition_mask            CondMask = $30
  583. copy_constant                  $13 = 0
  584. merge_condition_mask           CondMask = $21 & $22
  585. branch_if_no_lanes_active      branch_if_no_lanes_active +85 (label 2 at #670)
  586. copy_slot_unmasked             eq₁ = NE
  587. copy_slot_unmasked             f1₁ = NAN1
  588. copy_slot_unmasked             v2₁ = ZM
  589. copy_slot_unmasked             f3₁ = ZP
  590. copy_3_slots_unmasked          f4₁, f5₁, f6₁ = F42, F43, F44
  591. copy_uniform                   $14 = colorGreen(0)
  592. copy_constant                  $15 = 0x40000000 (2.0)
  593. add_float                      $14 += $15
  594. copy_slot_unmasked             two = $14
  595. splat_4_constants              a[0].f1₁, a[0].v2₁, a[1].f1₁ = 0
  596. splat_2_constants              a[1].v2₁ = 0
  597. copy_slot_unmasked             $14 = f1₁
  598. copy_slot_masked               a[0].f1₁ = Mask($14)
  599. copy_2_slots_unmasked          $14..15 = v2₁, f3₁
  600. copy_2_slots_masked            a[0].v2₁ = Mask($14..15)
  601. copy_slot_unmasked             $14 = f4₁
  602. copy_slot_masked               a[1].f1₁ = Mask($14)
  603. copy_2_slots_unmasked          $14..15 = f5₁, f6₁
  604. copy_2_slots_masked            a[1].v2₁ = Mask($14..15)
  605. splat_4_constants              b[0].f1₁, b[0].v2₁, b[1].f1₁ = 0
  606. splat_2_constants              b[1].v2₁ = 0
  607. copy_slot_unmasked             $14 = f1₁
  608. copy_slot_unmasked             $15 = two
  609. mul_float                      $14 *= $15
  610. copy_slot_masked               b[0].f1₁ = Mask($14)
  611. copy_slot_unmasked             $14 = v2₁
  612. copy_slot_unmasked             $15 = two
  613. mul_float                      $14 *= $15
  614. copy_slot_unmasked             $15 = f3₁
  615. copy_slot_unmasked             $16 = two
  616. mul_float                      $15 *= $16
  617. copy_2_slots_masked            b[0].v2₁ = Mask($14..15)
  618. copy_slot_unmasked             $14 = f4₁
  619. copy_slot_unmasked             $15 = two
  620. mul_float                      $14 *= $15
  621. copy_slot_masked               b[1].f1₁ = Mask($14)
  622. copy_slot_unmasked             $14 = f5₁
  623. copy_slot_unmasked             $15 = two
  624. mul_float                      $14 *= $15
  625. copy_slot_unmasked             $15 = f6₁
  626. copy_2_slots_masked            b[1].v2₁ = Mask($14..15)
  627. store_condition_mask           $30 = CondMask
  628. copy_slot_unmasked             $31 = eq₁
  629. copy_slot_unmasked             $14 = a[0].f1₁
  630. copy_slot_unmasked             $15 = b[0].f1₁
  631. cmpne_float                    $14 = notEqual($14, $15)
  632. copy_2_slots_unmasked          $15..16 = a[0].v2₁
  633. copy_2_slots_unmasked          $17..18 = b[0].v2₁
  634. cmpne_2_floats                 $15..16 = notEqual($15..16, $17..18)
  635. bitwise_or_int                 $15 |= $16
  636. bitwise_or_int                 $14 |= $15
  637. copy_slot_unmasked             $15 = a[1].f1₁
  638. copy_slot_unmasked             $16 = b[1].f1₁
  639. cmpne_float                    $15 = notEqual($15, $16)
  640. copy_2_slots_unmasked          $16..17 = a[1].v2₁
  641. copy_2_slots_unmasked          $18..19 = b[1].v2₁
  642. cmpne_2_floats                 $16..17 = notEqual($16..17, $18..19)
  643. bitwise_or_int                 $16 |= $17
  644. bitwise_or_int                 $15 |= $16
  645. bitwise_or_int                 $14 |= $15
  646. merge_condition_mask           CondMask = $30 & $31
  647. branch_if_no_lanes_active      branch_if_no_lanes_active +19 (label 20 at #666)
  648. copy_slot_unmasked             $15 = a[0].f1₁
  649. copy_slot_unmasked             $16 = b[0].f1₁
  650. cmpeq_float                    $15 = equal($15, $16)
  651. copy_2_slots_unmasked          $16..17 = a[0].v2₁
  652. copy_2_slots_unmasked          $18..19 = b[0].v2₁
  653. cmpeq_2_floats                 $16..17 = equal($16..17, $18..19)
  654. bitwise_and_int                $16 &= $17
  655. bitwise_and_int                $15 &= $16
  656. copy_slot_unmasked             $16 = a[1].f1₁
  657. copy_slot_unmasked             $17 = b[1].f1₁
  658. cmpeq_float                    $16 = equal($16, $17)
  659. copy_2_slots_unmasked          $17..18 = a[1].v2₁
  660. copy_2_slots_unmasked          $19..20 = b[1].v2₁
  661. cmpeq_2_floats                 $17..18 = equal($17..18, $19..20)
  662. bitwise_and_int                $17 &= $18
  663. bitwise_and_int                $16 &= $17
  664. bitwise_and_int                $15 &= $16
  665. copy_slot_masked               $14 = Mask($15)
  666. label                          label 0x00000014
  667. load_condition_mask            CondMask = $30
  668. label                          label 0x00000013
  669. copy_slot_masked               $13 = Mask($14)
  670. label                          label 0x00000002
  671. load_condition_mask            CondMask = $21
  672. copy_constant                  $0 = 0
  673. merge_condition_mask           CondMask = $12 & $13
  674. branch_if_no_lanes_active      branch_if_no_lanes_active +86 (label 1 at #760)
  675. copy_slot_unmasked             eq₁ = EQ
  676. copy_slot_unmasked             f1₁ = NAN1
  677. copy_slot_unmasked             v2₁ = ZM
  678. copy_slot_unmasked             f3₁ = ZP
  679. copy_3_slots_unmasked          f4₁, f5₁, f6₁ = F42, F43, F44
  680. copy_uniform                   $1 = colorGreen(0)
  681. copy_constant                  $2 = 0x40000000 (2.0)
  682. add_float                      $1 += $2
  683. copy_slot_unmasked             two = $1
  684. splat_4_constants              a[0].f1₁, a[0].v2₁, a[1].f1₁ = 0
  685. splat_2_constants              a[1].v2₁ = 0
  686. copy_slot_unmasked             $1 = f1₁
  687. copy_slot_masked               a[0].f1₁ = Mask($1)
  688. copy_2_slots_unmasked          $1..2 = v2₁, f3₁
  689. copy_2_slots_masked            a[0].v2₁ = Mask($1..2)
  690. copy_slot_unmasked             $1 = f4₁
  691. copy_slot_masked               a[1].f1₁ = Mask($1)
  692. copy_2_slots_unmasked          $1..2 = f5₁, f6₁
  693. copy_2_slots_masked            a[1].v2₁ = Mask($1..2)
  694. splat_4_constants              b[0].f1₁, b[0].v2₁, b[1].f1₁ = 0
  695. splat_2_constants              b[1].v2₁ = 0
  696. copy_slot_unmasked             $1 = f1₁
  697. copy_slot_unmasked             $2 = two
  698. mul_float                      $1 *= $2
  699. copy_slot_masked               b[0].f1₁ = Mask($1)
  700. copy_slot_unmasked             $1 = v2₁
  701. copy_slot_unmasked             $2 = two
  702. mul_float                      $1 *= $2
  703. copy_slot_unmasked             $2 = f3₁
  704. copy_slot_unmasked             $3 = two
  705. mul_float                      $2 *= $3
  706. copy_2_slots_masked            b[0].v2₁ = Mask($1..2)
  707. copy_slot_unmasked             $1 = f4₁
  708. copy_slot_unmasked             $2 = two
  709. mul_float                      $1 *= $2
  710. copy_slot_masked               b[1].f1₁ = Mask($1)
  711. copy_slot_unmasked             $1 = f5₁
  712. copy_slot_unmasked             $2 = two
  713. mul_float                      $1 *= $2
  714. copy_slot_unmasked             $2 = f6₁
  715. copy_2_slots_masked            b[1].v2₁ = Mask($1..2)
  716. store_condition_mask           $21 = CondMask
  717. copy_slot_unmasked             $22 = eq₁
  718. copy_slot_unmasked             $1 = a[0].f1₁
  719. copy_slot_unmasked             $2 = b[0].f1₁
  720. cmpne_float                    $1 = notEqual($1, $2)
  721. copy_2_slots_unmasked          $2..3 = a[0].v2₁
  722. copy_2_slots_unmasked          $4..5 = b[0].v2₁
  723. cmpne_2_floats                 $2..3 = notEqual($2..3, $4..5)
  724. bitwise_or_int                 $2 |= $3
  725. bitwise_or_int                 $1 |= $2
  726. copy_slot_unmasked             $2 = a[1].f1₁
  727. copy_slot_unmasked             $3 = b[1].f1₁
  728. cmpne_float                    $2 = notEqual($2, $3)
  729. copy_2_slots_unmasked          $3..4 = a[1].v2₁
  730. copy_2_slots_unmasked          $5..6 = b[1].v2₁
  731. cmpne_2_floats                 $3..4 = notEqual($3..4, $5..6)
  732. bitwise_or_int                 $3 |= $4
  733. bitwise_or_int                 $2 |= $3
  734. bitwise_or_int                 $1 |= $2
  735. merge_condition_mask           CondMask = $21 & $22
  736. branch_if_no_lanes_active      branch_if_no_lanes_active +19 (label 22 at #755)
  737. copy_slot_unmasked             $2 = a[0].f1₁
  738. copy_slot_unmasked             $3 = b[0].f1₁
  739. cmpeq_float                    $2 = equal($2, $3)
  740. copy_2_slots_unmasked          $3..4 = a[0].v2₁
  741. copy_2_slots_unmasked          $5..6 = b[0].v2₁
  742. cmpeq_2_floats                 $3..4 = equal($3..4, $5..6)
  743. bitwise_and_int                $3 &= $4
  744. bitwise_and_int                $2 &= $3
  745. copy_slot_unmasked             $3 = a[1].f1₁
  746. copy_slot_unmasked             $4 = b[1].f1₁
  747. cmpeq_float                    $3 = equal($3, $4)
  748. copy_2_slots_unmasked          $4..5 = a[1].v2₁
  749. copy_2_slots_unmasked          $6..7 = b[1].v2₁
  750. cmpeq_2_floats                 $4..5 = equal($4..5, $6..7)
  751. bitwise_and_int                $4 &= $5
  752. bitwise_and_int                $3 &= $4
  753. bitwise_and_int                $2 &= $3
  754. copy_slot_masked               $1 = Mask($2)
  755. label                          label 0x00000016
  756. load_condition_mask            CondMask = $21
  757. label                          label 0x00000015
  758. bitwise_not_int                $1 = ~$1
  759. copy_slot_masked               $0 = Mask($1)
  760. label                          label 0x00000001
  761. load_condition_mask            CondMask = $12
  762. swizzle_4                      $0..3 = ($0..3).xxxx
  763. copy_4_uniforms                $4..7 = colorRed
  764. copy_4_uniforms                $8..11 = colorGreen
  765. mix_4_ints                     $0..3 = mix($4..7, $8..11, $0..3)
  766. load_src                       src.rgba = $0..3
