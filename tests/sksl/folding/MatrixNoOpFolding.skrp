    1. store_src_rg                   coords = src.rg
    2. init_lane_masks                CondMask = LoopMask = RetMask = true
    3. splat_4_constants              _0_m = 0
    4. splat_4_constants              _1_mm = 0
    5. splat_2_constants              $0..1 = 0
    6. swizzle_4                      $0..3 = ($0..3).yxxy
    7. copy_4_slots_unmasked          _3_z = $0..3
    8. copy_4_uniforms                $0..3 = testMatrix2x2
    9. copy_4_slots_unmasked          _0_m = $0..3
   10. copy_4_uniforms                $0..3 = testMatrix2x2
   11. copy_4_slots_unmasked          _0_m = $0..3
   12. splat_4_constants              $0..3 = 0
   13. copy_4_slots_unmasked          $4..7 = _0_m
   14. sub_4_floats                   $0..3 -= $4..7
   15. copy_4_slots_unmasked          _0_m = $0..3
   16. splat_2_constants              $0..1 = 0
   17. swizzle_4                      $0..3 = ($0..3).yxxy
   18. copy_4_slots_unmasked          _1_mm = $0..3
   19. splat_2_constants              $0..1 = 0
   20. swizzle_4                      $0..3 = ($0..3).yxxy
   21. copy_4_slots_unmasked          _1_mm = $0..3
   22. store_condition_mask           $49 = CondMask
   23. store_condition_mask           $78 = CondMask
   24. copy_4_slots_unmasked          $79..82 = _0_m
   25. splat_4_constants              $83..86 = 0
   26. copy_4_uniforms                $87..90 = testMatrix2x2
   27. sub_4_floats                   $83..86 -= $87..90
   28. cmpeq_4_floats                 $79..82 = equal($79..82, $83..86)
   29. bitwise_and_2_ints             $79..80 &= $81..82
   30. bitwise_and_int                $79 &= $80
   31. copy_4_slots_unmasked          $80..83 = _1_mm
   32. copy_4_slots_unmasked          $84..87 = _3_z
   33. cmpeq_4_floats                 $80..83 = equal($80..83, $84..87)
   34. bitwise_and_2_ints             $80..81 &= $82..83
   35. bitwise_and_int                $80 &= $81
   36. bitwise_and_int                $79 &= $80
   37. copy_constant                  $50 = 0
   38. merge_condition_mask           CondMask = $78 & $79
   39. branch_if_no_lanes_active      branch_if_no_lanes_active +71 (label 2 at #110)
   40. splat_4_constants              m(0..3) = 0
   41. splat_4_constants              m(4..7) = 0
   42. splat_4_constants              m(8), mm(0..2) = 0
   43. splat_4_constants              mm(3..6) = 0
   44. splat_2_constants              mm(7..8) = 0
   45. splat_2_constants              $51..52 = 0
   46. shuffle                        $51..59 = ($51..59)[1 0 0 0 1 0 0 0 1]
   47. copy_4_slots_unmasked          z(0..3) = $51..54
   48. copy_4_slots_unmasked          z(4..7) = $55..58
   49. copy_slot_unmasked             z(8) = $59
   50. copy_4_uniforms                $51..54 = testMatrix3x3(0..3)
   51. copy_4_uniforms                $55..58 = testMatrix3x3(4..7)
   52. copy_uniform                   $59 = testMatrix3x3(8)
   53. copy_4_slots_masked            m(0..3) = Mask($51..54)
   54. copy_4_slots_masked            m(4..7) = Mask($55..58)
   55. copy_slot_masked               m(8) = Mask($59)
   56. copy_4_uniforms                $51..54 = testMatrix3x3(0..3)
   57. copy_4_uniforms                $55..58 = testMatrix3x3(4..7)
   58. copy_uniform                   $59 = testMatrix3x3(8)
   59. copy_4_slots_masked            m(0..3) = Mask($51..54)
   60. copy_4_slots_masked            m(4..7) = Mask($55..58)
   61. copy_slot_masked               m(8) = Mask($59)
   62. splat_4_constants              $51..54 = 0
   63. splat_4_constants              $55..58 = 0
   64. copy_constant                  $59 = 0
   65. copy_4_slots_unmasked          $60..63 = m(0..3)
   66. copy_4_slots_unmasked          $64..67 = m(4..7)
   67. copy_slot_unmasked             $68 = m(8)
   68. sub_n_floats                   $51..59 -= $60..68
   69. copy_4_slots_masked            m(0..3) = Mask($51..54)
   70. copy_4_slots_masked            m(4..7) = Mask($55..58)
   71. copy_slot_masked               m(8) = Mask($59)
   72. splat_2_constants              $51..52 = 0
   73. shuffle                        $51..59 = ($51..59)[1 0 0 0 1 0 0 0 1]
   74. copy_4_slots_masked            mm(0..3) = Mask($51..54)
   75. copy_4_slots_masked            mm(4..7) = Mask($55..58)
   76. copy_slot_masked               mm(8) = Mask($59)
   77. splat_2_constants              $51..52 = 0
   78. shuffle                        $51..59 = ($51..59)[1 0 0 0 1 0 0 0 1]
   79. copy_4_slots_masked            mm(0..3) = Mask($51..54)
   80. copy_4_slots_masked            mm(4..7) = Mask($55..58)
   81. copy_slot_masked               mm(8) = Mask($59)
   82. copy_4_slots_unmasked          $51..54 = m(0..3)
   83. copy_4_slots_unmasked          $55..58 = m(4..7)
   84. copy_slot_unmasked             $59 = m(8)
   85. splat_4_constants              $60..63 = 0
   86. splat_4_constants              $64..67 = 0
   87. copy_constant                  $68 = 0
   88. copy_4_uniforms                $69..72 = testMatrix3x3(0..3)
   89. copy_4_uniforms                $73..76 = testMatrix3x3(4..7)
   90. copy_uniform                   $77 = testMatrix3x3(8)
   91. sub_n_floats                   $60..68 -= $69..77
   92. cmpeq_n_floats                 $51..59 = equal($51..59, $60..68)
   93. bitwise_and_4_ints             $52..55 &= $56..59
   94. bitwise_and_2_ints             $52..53 &= $54..55
   95. bitwise_and_int                $52 &= $53
   96. bitwise_and_int                $51 &= $52
   97. copy_4_slots_unmasked          $52..55 = mm(0..3)
   98. copy_4_slots_unmasked          $56..59 = mm(4..7)
   99. copy_4_slots_unmasked          $60..63 = mm(8), z(0..2)
  100. copy_4_slots_unmasked          $64..67 = z(3..6)
  101. copy_2_slots_unmasked          $68..69 = z(7..8)
  102. cmpeq_n_floats                 $52..60 = equal($52..60, $61..69)
  103. bitwise_and_4_ints             $53..56 &= $57..60
  104. bitwise_and_2_ints             $53..54 &= $55..56
  105. bitwise_and_int                $53 &= $54
  106. bitwise_and_int                $52 &= $53
  107. bitwise_and_int                $51 &= $52
  108. label                          label 0x00000003
  109. copy_slot_masked               $50 = Mask($51)
  110. label                          label 0x00000002
  111. load_condition_mask            CondMask = $78
  112. copy_constant                  $0 = 0
  113. merge_condition_mask           CondMask = $49 & $50
  114. branch_if_no_lanes_active      branch_if_no_lanes_active +96 (label 1 at #210)
  115. copy_4_uniforms                testMatrix4x4(0..3) = testInputs
  116. copy_4_uniforms                testMatrix4x4(4..7) = testInputs
  117. copy_4_uniforms                testMatrix4x4(8..11) = testInputs
  118. copy_4_uniforms                testMatrix4x4(12..15) = testInputs
  119. splat_4_constants              m₁(0..3) = 0
  120. splat_4_constants              m₁(4..7) = 0
  121. splat_4_constants              m₁(8..11) = 0
  122. splat_4_constants              m₁(12..15) = 0
  123. splat_4_constants              mm₁(0..3) = 0
  124. splat_4_constants              mm₁(4..7) = 0
  125. splat_4_constants              mm₁(8..11) = 0
  126. splat_4_constants              mm₁(12..15) = 0
  127. splat_2_constants              $1..2 = 0
  128. shuffle                        $1..16 = ($1..16)[1 0 0 0 0 1 0 0 0 0 1 0 0 0 0 1]
  129. copy_4_slots_unmasked          z₁(0..3) = $1..4
  130. copy_4_slots_unmasked          z₁(4..7) = $5..8
  131. copy_4_slots_unmasked          z₁(8..11) = $9..12
  132. copy_4_slots_unmasked          z₁(12..15) = $13..16
  133. copy_4_slots_unmasked          $1..4 = testMatrix4x4(0..3)
  134. copy_4_slots_unmasked          $5..8 = testMatrix4x4(4..7)
  135. copy_4_slots_unmasked          $9..12 = testMatrix4x4(8..11)
  136. copy_4_slots_unmasked          $13..16 = testMatrix4x4(12..15)
  137. copy_4_slots_masked            m₁(0..3) = Mask($1..4)
  138. copy_4_slots_masked            m₁(4..7) = Mask($5..8)
  139. copy_4_slots_masked            m₁(8..11) = Mask($9..12)
  140. copy_4_slots_masked            m₁(12..15) = Mask($13..16)
  141. copy_4_slots_unmasked          $1..4 = testMatrix4x4(0..3)
  142. copy_4_slots_unmasked          $5..8 = testMatrix4x4(4..7)
  143. copy_4_slots_unmasked          $9..12 = testMatrix4x4(8..11)
  144. copy_4_slots_unmasked          $13..16 = testMatrix4x4(12..15)
  145. copy_4_slots_masked            m₁(0..3) = Mask($1..4)
  146. copy_4_slots_masked            m₁(4..7) = Mask($5..8)
  147. copy_4_slots_masked            m₁(8..11) = Mask($9..12)
  148. copy_4_slots_masked            m₁(12..15) = Mask($13..16)
  149. splat_4_constants              $1..4 = 0
  150. splat_4_constants              $5..8 = 0
  151. splat_4_constants              $9..12 = 0
  152. splat_4_constants              $13..16 = 0
  153. copy_4_slots_unmasked          $17..20 = m₁(0..3)
  154. copy_4_slots_unmasked          $21..24 = m₁(4..7)
  155. copy_4_slots_unmasked          $25..28 = m₁(8..11)
  156. copy_4_slots_unmasked          $29..32 = m₁(12..15)
  157. sub_n_floats                   $1..16 -= $17..32
  158. copy_4_slots_masked            m₁(0..3) = Mask($1..4)
  159. copy_4_slots_masked            m₁(4..7) = Mask($5..8)
  160. copy_4_slots_masked            m₁(8..11) = Mask($9..12)
  161. copy_4_slots_masked            m₁(12..15) = Mask($13..16)
  162. splat_2_constants              $1..2 = 0
  163. shuffle                        $1..16 = ($1..16)[1 0 0 0 0 1 0 0 0 0 1 0 0 0 0 1]
  164. copy_4_slots_masked            mm₁(0..3) = Mask($1..4)
  165. copy_4_slots_masked            mm₁(4..7) = Mask($5..8)
  166. copy_4_slots_masked            mm₁(8..11) = Mask($9..12)
  167. copy_4_slots_masked            mm₁(12..15) = Mask($13..16)
  168. splat_2_constants              $1..2 = 0
  169. shuffle                        $1..16 = ($1..16)[1 0 0 0 0 1 0 0 0 0 1 0 0 0 0 1]
  170. copy_4_slots_masked            mm₁(0..3) = Mask($1..4)
  171. copy_4_slots_masked            mm₁(4..7) = Mask($5..8)
  172. copy_4_slots_masked            mm₁(8..11) = Mask($9..12)
  173. copy_4_slots_masked            mm₁(12..15) = Mask($13..16)
  174. copy_4_slots_unmasked          $1..4 = m₁(0..3)
  175. copy_4_slots_unmasked          $5..8 = m₁(4..7)
  176. copy_4_slots_unmasked          $9..12 = m₁(8..11)
  177. copy_4_slots_unmasked          $13..16 = m₁(12..15)
  178. splat_4_constants              $17..20 = 0
  179. splat_4_constants              $21..24 = 0
  180. splat_4_constants              $25..28 = 0
  181. splat_4_constants              $29..32 = 0
  182. copy_4_slots_unmasked          $33..36 = testMatrix4x4(0..3)
  183. copy_4_slots_unmasked          $37..40 = testMatrix4x4(4..7)
  184. copy_4_slots_unmasked          $41..44 = testMatrix4x4(8..11)
  185. copy_4_slots_unmasked          $45..48 = testMatrix4x4(12..15)
  186. sub_n_floats                   $17..32 -= $33..48
  187. cmpeq_n_floats                 $1..16 = equal($1..16, $17..32)
  188. bitwise_and_4_ints             $9..12 &= $13..16
  189. bitwise_and_4_ints             $5..8 &= $9..12
  190. bitwise_and_4_ints             $1..4 &= $5..8
  191. bitwise_and_2_ints             $1..2 &= $3..4
  192. bitwise_and_int                $1 &= $2
  193. copy_4_slots_unmasked          $2..5 = mm₁(0..3)
  194. copy_4_slots_unmasked          $6..9 = mm₁(4..7)
  195. copy_4_slots_unmasked          $10..13 = mm₁(8..11)
  196. copy_4_slots_unmasked          $14..17 = mm₁(12..15)
  197. copy_4_slots_unmasked          $18..21 = z₁(0..3)
  198. copy_4_slots_unmasked          $22..25 = z₁(4..7)
  199. copy_4_slots_unmasked          $26..29 = z₁(8..11)
  200. copy_4_slots_unmasked          $30..33 = z₁(12..15)
  201. cmpeq_n_floats                 $2..17 = equal($2..17, $18..33)
  202. bitwise_and_4_ints             $10..13 &= $14..17
  203. bitwise_and_4_ints             $6..9 &= $10..13
  204. bitwise_and_4_ints             $2..5 &= $6..9
  205. bitwise_and_2_ints             $2..3 &= $4..5
  206. bitwise_and_int                $2 &= $3
  207. bitwise_and_int                $1 &= $2
  208. label                          label 0x00000004
  209. copy_slot_masked               $0 = Mask($1)
  210. label                          label 0x00000001
  211. load_condition_mask            CondMask = $49
  212. swizzle_4                      $0..3 = ($0..3).xxxx
  213. copy_4_uniforms                $4..7 = colorRed
  214. copy_4_uniforms                $8..11 = colorGreen
  215. mix_4_ints                     $0..3 = mix($4..7, $8..11, $0..3)
  216. load_src                       src.rgba = $0..3
