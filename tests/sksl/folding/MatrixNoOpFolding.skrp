    1. store_src_rg                   coords = src.rg
    2. init_lane_masks                CondMask = LoopMask = RetMask = true
    3. zero_4_slots_unmasked          _0_m = 0
    4. zero_4_slots_unmasked          _1_mm = 0
    5. zero_slot_unmasked             $0 = 0
    6. zero_slot_unmasked             $1 = 0
    7. swizzle_4                      $0..3 = ($0..3).yxxy
    8. copy_4_slots_unmasked          _3_z = $0..3
    9. copy_4_constants               $0..3 = testMatrix2x2
   10. copy_4_slots_masked            _0_m = Mask($0..3)
   11. copy_4_constants               $0..3 = testMatrix2x2
   12. copy_4_slots_masked            _0_m = Mask($0..3)
   13. zero_4_slots_unmasked          $0..3 = 0
   14. copy_4_slots_unmasked          $4..7 = _0_m
   15. sub_4_floats                   $0..3 -= $4..7
   16. copy_4_slots_masked            _0_m = Mask($0..3)
   17. zero_slot_unmasked             $0 = 0
   18. zero_slot_unmasked             $1 = 0
   19. swizzle_4                      $0..3 = ($0..3).yxxy
   20. copy_4_slots_masked            _1_mm = Mask($0..3)
   21. zero_slot_unmasked             $0 = 0
   22. zero_slot_unmasked             $1 = 0
   23. swizzle_4                      $0..3 = ($0..3).yxxy
   24. copy_4_slots_masked            _1_mm = Mask($0..3)
   25. store_condition_mask           $50 = CondMask
   26. store_condition_mask           $21 = CondMask
   27. store_condition_mask           $8 = CondMask
   28. copy_4_slots_unmasked          $9..12 = _0_m
   29. zero_4_slots_unmasked          $13..16 = 0
   30. copy_4_constants               $17..20 = testMatrix2x2
   31. sub_4_floats                   $13..16 -= $17..20
   32. cmpeq_4_floats                 $9..12 = equal($9..12, $13..16)
   33. bitwise_and_2_ints             $9..10 &= $11..12
   34. bitwise_and_int                $9 &= $10
   35. copy_4_slots_unmasked          $10..13 = _1_mm
   36. copy_4_slots_unmasked          $14..17 = _3_z
   37. cmpeq_4_floats                 $10..13 = equal($10..13, $14..17)
   38. bitwise_and_2_ints             $10..11 &= $12..13
   39. bitwise_and_int                $10 &= $11
   40. bitwise_and_int                $9 &= $10
   41. zero_slot_unmasked             $22 = 0
   42. merge_condition_mask           CondMask = $8 & $9
   43. branch_if_no_active_lanes      branch_if_no_active_lanes +74 (#117)
   44. zero_4_slots_unmasked          m(0..3) = 0
   45. zero_4_slots_unmasked          m(4..7) = 0
   46. zero_4_slots_unmasked          m(8..11) = 0
   47. zero_4_slots_unmasked          mm(3..6) = 0
   48. zero_2_slots_unmasked          mm(7..8) = 0
   49. zero_slot_unmasked             $23 = 0
   50. zero_slot_unmasked             $24 = 0
   51. shuffle                        $23..31 = ($23..31)[1 0 0 0 1 0 0 0 1]
   52. copy_4_slots_unmasked          z(0..3) = $23..26
   53. copy_4_slots_unmasked          z(4..7) = $27..30
   54. copy_slot_unmasked             z(8) = $31
   55. copy_4_constants               $23..26 = testMatrix3x3(0..3)
   56. copy_4_constants               $27..30 = testMatrix3x3(4..7)
   57. copy_constant                  $31 = testMatrix3x3(8)
   58. copy_4_slots_masked            m(0..3) = Mask($23..26)
   59. copy_4_slots_masked            m(4..7) = Mask($27..30)
   60. copy_slot_masked               m(8) = Mask($31)
   61. copy_4_constants               $23..26 = testMatrix3x3(0..3)
   62. copy_4_constants               $27..30 = testMatrix3x3(4..7)
   63. copy_constant                  $31 = testMatrix3x3(8)
   64. copy_4_slots_masked            m(0..3) = Mask($23..26)
   65. copy_4_slots_masked            m(4..7) = Mask($27..30)
   66. copy_slot_masked               m(8) = Mask($31)
   67. zero_4_slots_unmasked          $23..26 = 0
   68. zero_4_slots_unmasked          $27..30 = 0
   69. zero_slot_unmasked             $31 = 0
   70. copy_4_slots_unmasked          $32..35 = m(0..3)
   71. copy_4_slots_unmasked          $36..39 = m(4..7)
   72. copy_slot_unmasked             $40 = m(8)
   73. sub_n_floats                   $23..31 -= $32..40
   74. copy_4_slots_masked            m(0..3) = Mask($23..26)
   75. copy_4_slots_masked            m(4..7) = Mask($27..30)
   76. copy_slot_masked               m(8) = Mask($31)
   77. zero_slot_unmasked             $23 = 0
   78. zero_slot_unmasked             $24 = 0
   79. shuffle                        $23..31 = ($23..31)[1 0 0 0 1 0 0 0 1]
   80. copy_4_slots_masked            mm(0..3) = Mask($23..26)
   81. copy_4_slots_masked            mm(4..7) = Mask($27..30)
   82. copy_slot_masked               mm(8) = Mask($31)
   83. zero_slot_unmasked             $23 = 0
   84. zero_slot_unmasked             $24 = 0
   85. shuffle                        $23..31 = ($23..31)[1 0 0 0 1 0 0 0 1]
   86. copy_4_slots_masked            mm(0..3) = Mask($23..26)
   87. copy_4_slots_masked            mm(4..7) = Mask($27..30)
   88. copy_slot_masked               mm(8) = Mask($31)
   89. copy_4_slots_unmasked          $23..26 = m(0..3)
   90. copy_4_slots_unmasked          $27..30 = m(4..7)
   91. copy_slot_unmasked             $31 = m(8)
   92. zero_4_slots_unmasked          $32..35 = 0
   93. zero_4_slots_unmasked          $36..39 = 0
   94. zero_slot_unmasked             $40 = 0
   95. copy_4_constants               $41..44 = testMatrix3x3(0..3)
   96. copy_4_constants               $45..48 = testMatrix3x3(4..7)
   97. copy_constant                  $49 = testMatrix3x3(8)
   98. sub_n_floats                   $32..40 -= $41..49
   99. cmpeq_n_floats                 $23..31 = equal($23..31, $32..40)
  100. bitwise_and_4_ints             $24..27 &= $28..31
  101. bitwise_and_2_ints             $24..25 &= $26..27
  102. bitwise_and_int                $24 &= $25
  103. bitwise_and_int                $23 &= $24
  104. copy_4_slots_unmasked          $24..27 = mm(0..3)
  105. copy_4_slots_unmasked          $28..31 = mm(4..7)
  106. copy_4_slots_unmasked          $32..35 = mm(8..11)
  107. copy_4_slots_unmasked          $36..39 = z(3..6)
  108. copy_2_slots_unmasked          $40..41 = z(7..8)
  109. cmpeq_n_floats                 $24..32 = equal($24..32, $33..41)
  110. bitwise_and_4_ints             $25..28 &= $29..32
  111. bitwise_and_2_ints             $25..26 &= $27..28
  112. bitwise_and_int                $25 &= $26
  113. bitwise_and_int                $24 &= $25
  114. bitwise_and_int                $23 &= $24
  115. copy_slot_masked               [test_mat3_mat3].result = Mask($23)
  116. copy_slot_masked               $22 = Mask($23)
  117. load_condition_mask            CondMask = $8
  118. zero_slot_unmasked             $51 = 0
  119. merge_condition_mask           CondMask = $21 & $22
  120. branch_if_no_active_lanes      branch_if_no_active_lanes +103 (#223)
  121. copy_4_constants               $52..55 = testInputs
  122. copy_4_constants               $56..59 = testInputs
  123. copy_4_constants               $60..63 = testInputs
  124. copy_4_constants               $64..67 = testInputs
  125. copy_4_slots_unmasked          testMatrix4x4(0..3) = $52..55
  126. copy_4_slots_unmasked          testMatrix4x4(4..7) = $56..59
  127. copy_4_slots_unmasked          testMatrix4x4(8..11) = $60..63
  128. copy_4_slots_unmasked          testMatrix4x4(12..15) = $64..67
  129. zero_4_slots_unmasked          m(0..3) = 0
  130. zero_4_slots_unmasked          m(4..7) = 0
  131. zero_4_slots_unmasked          m(8..11) = 0
  132. zero_4_slots_unmasked          m(12..15) = 0
  133. zero_4_slots_unmasked          mm(0..3) = 0
  134. zero_4_slots_unmasked          mm(4..7) = 0
  135. zero_4_slots_unmasked          mm(8..11) = 0
  136. zero_4_slots_unmasked          mm(12..15) = 0
  137. zero_slot_unmasked             $52 = 0
  138. zero_slot_unmasked             $53 = 0
  139. shuffle                        $52..67 = ($52..67)[1 0 0 0 0 1 0 0 0 0 1 0 0 0 0 1]
  140. copy_4_slots_unmasked          z(0..3) = $52..55
  141. copy_4_slots_unmasked          z(4..7) = $56..59
  142. copy_4_slots_unmasked          z(8..11) = $60..63
  143. copy_4_slots_unmasked          z(12..15) = $64..67
  144. copy_4_slots_unmasked          $52..55 = testMatrix4x4(0..3)
  145. copy_4_slots_unmasked          $56..59 = testMatrix4x4(4..7)
  146. copy_4_slots_unmasked          $60..63 = testMatrix4x4(8..11)
  147. copy_4_slots_unmasked          $64..67 = testMatrix4x4(12..15)
  148. copy_4_slots_masked            m(0..3) = Mask($52..55)
  149. copy_4_slots_masked            m(4..7) = Mask($56..59)
  150. copy_4_slots_masked            m(8..11) = Mask($60..63)
  151. copy_4_slots_masked            m(12..15) = Mask($64..67)
  152. copy_4_slots_unmasked          $52..55 = testMatrix4x4(0..3)
  153. copy_4_slots_unmasked          $56..59 = testMatrix4x4(4..7)
  154. copy_4_slots_unmasked          $60..63 = testMatrix4x4(8..11)
  155. copy_4_slots_unmasked          $64..67 = testMatrix4x4(12..15)
  156. copy_4_slots_masked            m(0..3) = Mask($52..55)
  157. copy_4_slots_masked            m(4..7) = Mask($56..59)
  158. copy_4_slots_masked            m(8..11) = Mask($60..63)
  159. copy_4_slots_masked            m(12..15) = Mask($64..67)
  160. zero_4_slots_unmasked          $52..55 = 0
  161. zero_4_slots_unmasked          $56..59 = 0
  162. zero_4_slots_unmasked          $60..63 = 0
  163. zero_4_slots_unmasked          $64..67 = 0
  164. copy_4_slots_unmasked          $68..71 = m(0..3)
  165. copy_4_slots_unmasked          $72..75 = m(4..7)
  166. copy_4_slots_unmasked          $76..79 = m(8..11)
  167. copy_4_slots_unmasked          $80..83 = m(12..15)
  168. sub_n_floats                   $52..67 -= $68..83
  169. copy_4_slots_masked            m(0..3) = Mask($52..55)
  170. copy_4_slots_masked            m(4..7) = Mask($56..59)
  171. copy_4_slots_masked            m(8..11) = Mask($60..63)
  172. copy_4_slots_masked            m(12..15) = Mask($64..67)
  173. zero_slot_unmasked             $52 = 0
  174. zero_slot_unmasked             $53 = 0
  175. shuffle                        $52..67 = ($52..67)[1 0 0 0 0 1 0 0 0 0 1 0 0 0 0 1]
  176. copy_4_slots_masked            mm(0..3) = Mask($52..55)
  177. copy_4_slots_masked            mm(4..7) = Mask($56..59)
  178. copy_4_slots_masked            mm(8..11) = Mask($60..63)
  179. copy_4_slots_masked            mm(12..15) = Mask($64..67)
  180. zero_slot_unmasked             $52 = 0
  181. zero_slot_unmasked             $53 = 0
  182. shuffle                        $52..67 = ($52..67)[1 0 0 0 0 1 0 0 0 0 1 0 0 0 0 1]
  183. copy_4_slots_masked            mm(0..3) = Mask($52..55)
  184. copy_4_slots_masked            mm(4..7) = Mask($56..59)
  185. copy_4_slots_masked            mm(8..11) = Mask($60..63)
  186. copy_4_slots_masked            mm(12..15) = Mask($64..67)
  187. copy_4_slots_unmasked          $52..55 = m(0..3)
  188. copy_4_slots_unmasked          $56..59 = m(4..7)
  189. copy_4_slots_unmasked          $60..63 = m(8..11)
  190. copy_4_slots_unmasked          $64..67 = m(12..15)
  191. zero_4_slots_unmasked          $68..71 = 0
  192. zero_4_slots_unmasked          $72..75 = 0
  193. zero_4_slots_unmasked          $76..79 = 0
  194. zero_4_slots_unmasked          $80..83 = 0
  195. copy_4_slots_unmasked          $84..87 = testMatrix4x4(0..3)
  196. copy_4_slots_unmasked          $88..91 = testMatrix4x4(4..7)
  197. copy_4_slots_unmasked          $92..95 = testMatrix4x4(8..11)
  198. copy_4_slots_unmasked          $96..99 = testMatrix4x4(12..15)
  199. sub_n_floats                   $68..83 -= $84..99
  200. cmpeq_n_floats                 $52..67 = equal($52..67, $68..83)
  201. bitwise_and_4_ints             $60..63 &= $64..67
  202. bitwise_and_4_ints             $56..59 &= $60..63
  203. bitwise_and_4_ints             $52..55 &= $56..59
  204. bitwise_and_2_ints             $52..53 &= $54..55
  205. bitwise_and_int                $52 &= $53
  206. copy_4_slots_unmasked          $53..56 = mm(0..3)
  207. copy_4_slots_unmasked          $57..60 = mm(4..7)
  208. copy_4_slots_unmasked          $61..64 = mm(8..11)
  209. copy_4_slots_unmasked          $65..68 = mm(12..15)
  210. copy_4_slots_unmasked          $69..72 = z(0..3)
  211. copy_4_slots_unmasked          $73..76 = z(4..7)
  212. copy_4_slots_unmasked          $77..80 = z(8..11)
  213. copy_4_slots_unmasked          $81..84 = z(12..15)
  214. cmpeq_n_floats                 $53..68 = equal($53..68, $69..84)
  215. bitwise_and_4_ints             $61..64 &= $65..68
  216. bitwise_and_4_ints             $57..60 &= $61..64
  217. bitwise_and_4_ints             $53..56 &= $57..60
  218. bitwise_and_2_ints             $53..54 &= $55..56
  219. bitwise_and_int                $53 &= $54
  220. bitwise_and_int                $52 &= $53
  221. copy_slot_masked               [test_mat4_mat4].result = Mask($52)
  222. copy_slot_masked               $51 = Mask($52)
  223. load_condition_mask            CondMask = $21
  224. copy_4_constants               $0..3 = colorRed
  225. merge_condition_mask           CondMask = $50 & $51
  226. copy_4_constants               $4..7 = colorGreen
  227. copy_4_slots_masked            $0..3 = Mask($4..7)
  228. load_condition_mask            CondMask = $50
  229. copy_4_slots_masked            [main].result = Mask($0..3)
  230. load_src                       src.rgba = [main].result
